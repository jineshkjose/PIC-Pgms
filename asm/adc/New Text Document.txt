#include<pic16f877.inc>

ADC_H eqn 0X21
ADC_L EQN 0X22

ORG 0XOO
GOTO MAIN
ORG OXO4
GOTO INTRPT

MAIN:
BANKSEL TRISA
BSF TRISA,0

BANKSEL TRISD
CLRF TRISD

MOVLW
BANKSEL ADCON1
MOVLW 0X80
MOVWF ADCON1

BANKSEL ADCON0
MOVLW 0X81
MOVWF ADCON0

BANKSEL ADCONO
BSF ADCONO,GO_DONE

LOOP:
	BTFSC ADCON0,GO_DONE
	GOTO LOOP

BANKSEL ADRESL
MOVFW ADRESL
BANKSEL 0X21
MOVWF ADC_L
MOVFW ADRESH
BANKSEL 0X22
MOVWF ADC_H

BANKSEL PORTD
MOVWF PORTD
END

INTRPT:
RTFIE
END



